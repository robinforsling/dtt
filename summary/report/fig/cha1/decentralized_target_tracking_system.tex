


% --- FIGURE ---
\begin{scriptsize}

%\draw [white,opacity=.0] (0,-1) rectangle (17,0);

\drawprocessingunitbox{clra!40!} (2.75,-1.75) rectangle (14.75,2);
\node [below,font=\bfseries] at (8.75,2) {processing unit};

% STATE EST
\drawsensorbox (0,0) rectangle (2,1) node [pos=.5,font=\bfseries,color=white] {sensors};
\drawsystemarrow (2,0.5) -- (3,0.5);
\drawsystembox (3,0) rectangle (7,1) node [pos=.5,font=\bfseries,align=center] {measurement-to-track \\ association};
\drawsystemarrow (7,0.5) -- (8,0.5);
\drawsystembox (8,0) rectangle (10.5,1) node [pos=.5,font=\bfseries,align=center] {state \\ estimation};
\drawsystemarrow (9.25,0) -- (9.25,-0.25) -- (5,-0.25) -- (5,-0.5);

% FUSION
\drawsensorbox (0,-0.5) rectangle (2,-1.5) node [pos=.5,font=\bfseries,align=center,color=white] {datalink};
\drawsystemarrow (2,-1) -- (3,-1);
\drawsystembox (3,-0.5) rectangle (7,-1.5) node [pos=.5,font=\bfseries,align=center] {track-to-track \\ association};
\drawsystemarrow (7,-1) -- (8,-1);
\drawsystembox (8,-0.5) rectangle (10.5,-1.5) node [pos=.5,font=\bfseries,align=center] {track \\ fusion};

% COM
\drawsystemarrow (10.5,-1) -- (11.5,-1);
\drawsystemarrow [densely dashed] (10.75,-1) -- (10.75,1.25) -- (5,1.25) -- (5,1);
\draw [black,fill=black] (10.75,-1) circle [radius=0.05];
\drawsystembox (11.5,-0.5) rectangle (14.5,-1.5) node [pos=.5,font=\bfseries,align=center] {communication \\ management};
\drawsystemarrow (14.5,-1) -- (15.5,-1) node [near start,above right,align=center,font=\it] {exchanged \\ tracks};

\end{scriptsize}